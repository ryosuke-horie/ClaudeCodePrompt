# 個人開発プロジェクト用CLAUDE.mdテンプレート

このテンプレートは個人開発プロジェクトで使用するCLAUDE.mdの雛形です。プロジェクトに応じて内容をカスタマイズしてください。

---

# [プロジェクト名] - [プロジェクトの簡潔な説明]

## プロジェクト概要

[プロジェクトの目的と概要を記載]

**詳細**: [プロジェクト概要](./docs/プロジェクト概要.md)

## 主要機能

- [機能1]
- [機能2]
- [機能3]

## 技術スタック（主要技術）

### フロントエンド
- **[フレームワーク]** - [バージョンと用途]
- **[ライブラリ]** - [用途]

### バックエンド
- **[フレームワーク]** - [バージョンと用途]
- **[ORM/データベースライブラリ]** - [用途]

### データベース
- **[データベース]** - [用途]
- **開発環境**: [開発用DB設定]

### テストツール
- **[ユニットテスト]** - [用途]
- **[E2Eテスト]** - [用途]

**詳細**: [技術スタック](./docs/技術スタック.md)

## Claude Code専門エージェント

このプロジェクトでは、専門的なタスクに特化したエージェントが自動的に選択され、効率的な開発をサポートします。

### 利用可能なエージェント

#### frontend-developer
- **自動選択条件**: 
  - UIコンポーネントの実装・修正
  - フロントエンドのテスト作成
  - スタイリング・レスポンシブ対応
- **専門領域**: React/Vue/Svelte、CSS、クライアントサイドロジック
- **開発原則**: t-wadaのTDD、Matt Pocock氏の型定義方針

#### backend-developer
- **自動選択条件**:
  - API開発・修正
  - データベース操作
  - 認証・認可の実装
- **専門領域**: REST/GraphQL API、ORM、ビジネスロジック
- **開発原則**: クリーンアーキテクチャ、TDD、型安全性

### エージェントとの連携

1. **自動選択**: 作業内容に基づいて適切なエージェントが自動的に選択されます
2. **明示的な指定**: 必要に応じて特定のエージェントを指定できます
   ```
   "frontend-developerでこのコンポーネントを実装して"
   "backend-developerでAPIエンドポイントを作成"
   ```

3. **コンテキスト共有**: エージェントには以下の情報が自動的に渡されます
   - 作業対象のファイル
   - 関連するテストケース
   - プロジェクトの開発ルール
   - エラーログやスタックトレース

### エージェント活用のベストプラクティス

- **タスクの分割**: フロントエンドとバックエンドのタスクを明確に分離
- **並列作業**: 独立したタスクは複数のエージェントで同時実行
- **品質保証**: 各エージェントはTDDサイクルに従って実装

## 開発ルール

### 1. コメント規約
- コメントは必ず日本語で記載する
- 設計意図を明確に記載する
- なぜその実装を選択したのか、代替案は何かを記載する

```typescript
// 例: 
// この関数は[目的]のために使用される
// [選択理由]
// 代替案: [代替案とその却下理由]
```

### 2. 型チェック・リント
- 何か追加・修正する前や修正後、Commit前に適宜ローカルで `[チェックコマンド]` を実行
- 必ず `[チェックコマンド]` を実行してから作業を終える
- 型エラーとリントエラーを放置しない

### 3. コミット規約
- 頻繁にコミットする（機能の小さな単位で）
- コミットメッセージは必ずプレフィックスから始まるワンライン形式とし、日本語で記載する
- 使用するプレフィックス：
  - `feat:` 新機能
  - `fix:` バグ修正
  - `chore:` ビルドプロセスや補助ツールの変更
  - `docs:` ドキュメントの変更
  - `style:` コードの意味に影響しない変更（空白、フォーマット等）
  - `refactor:` バグ修正や機能追加を伴わないコードの変更
  - `test:` テストの追加や既存テストの修正

```bash
# 例:
git commit -m "feat: [機能の説明]"
git commit -m "fix: [バグの説明]"
```

**重要**: コミットメッセージは必ず1行（ワンライン）で記述する。

### 4. 署名設定
- コミット時の署名は必ず `[GitHubユーザー名]` のみとする
- Co-Authoredは設定しない

### 5. テスト戦略

- t-wadaやKent C. Doddsの提唱するTDDに従って実装を進めます
- Red, Green, Refactoringサイクルを厳守
- 専門エージェントもこのサイクルに従います

#### テストレベル
- **ユニットテスト**: 8割以上のカバレッジを目標
- **統合テスト**: DB・外部サービスとのI/O検証
- **E2Eテスト**: 正常系の最小限のテストケース

### 6. TDD（テスト駆動開発）とTidy Firstの原則

#### TDDサイクル（Red-Green-Refactor）
1. **Red（赤）**: 最初に失敗するテストを書く
2. **Green（緑）**: テストをパスする最小限のコードを実装
3. **Refactor（リファクタリング）**: コードの品質を改善

#### Tidy Firstアプローチ
すべての変更を2つのタイプに明確に分類：

1. **構造的変更（Structure）**: 動作を変更せずにコードを再配置
2. **動作変更（Behavior）**: 実際の機能の追加または変更

**重要**: 同じコミットに構造的変更と動作変更を混在させない

### 7. 技術スタックに関連した最新情報の取得

- 必要に応じてWebSearchやWebFetchを使用して最新情報を取得
- 特に更新頻度の高いフレームワークは最新ドキュメントを参照

### 8. ドキュメント作成規約

**重要**: すべてのプロジェクトドキュメントは**日本語ファイル名のMarkdownファイル**として**docs/ディレクトリ以下**に作成する

```
docs/
├── プロジェクト概要.md
├── 技術スタック.md
├── 開発環境/
│   └── セットアップガイド.md
└── テスト/
    └── テストガイド.md
```

### 9. バックグラウンドプロセス管理（Ghost）

**重要**: 開発サーバーの起動などセッションを占有するプロセスは、`ghost` ツールを使用してバックグラウンドで実行すること

- **使用場面**: 開発サーバーの起動やその他の長時間実行されるプロセスを実行する場合
- **禁止事項**: `pnpm run dev &` のような形式でのバックグラウンド実行は使用しない
- **基本的な使い方**:
  ```bash
  # 開発サーバーをバックグラウンドで起動
  ghost run pnpm run dev
  
  # プロセスの一覧確認
  ghost list
  
  # ログの確認
  ghost log <task-id>
  
  # プロセスの停止
  ghost stop <task-id>
  ```

## 開発環境セットアップ

### 前提条件
- **[ツール1]** - [用途]
- **[ツール2]** - [用途]

### クイックスタート
```bash
# 依存関係のインストール
[インストールコマンド]

# 環境変数ファイルの作成
cp .env.example .env

# データベースのセットアップ
[DBセットアップコマンド]
```

## 主要コマンド

### 開発サーバー
```bash
# フロントエンド（バックグラウンド実行）
ghost run [フロントエンド起動コマンド]

# バックエンド（バックグラウンド実行）
ghost run [バックエンド起動コマンド]

# 例：
ghost run pnpm run dev
ghost run pnpm --filter api dev
```

### コード品質チェック
```bash
# 型チェック・リント
[チェックコマンド]
```

### テスト実行
```bash
# ユニットテスト
[ユニットテストコマンド]

# E2Eテスト
[E2Eテストコマンド]
```

## プロジェクト構造

```
[プロジェクト名]/
├── frontend/          # フロントエンド
│   ├── src/
│   └── tests/
├── backend/           # バックエンド
│   ├── src/
│   └── tests/
├── docs/              # ドキュメント（日本語）
└── CLAUDE.md         # このファイル
```

## 開発の進め方

1. 新機能開発時は、まず設計意図をコメントで記載
2. **エージェントが自動的に適切なTDDサイクルで実装**
3. 小さな単位で実装し、都度品質チェック
4. 機能の完成度に応じて頻繁にコミット
5. プルリクエストを作成してレビュー

### エージェントによる実装の流れ

1. **要件理解**: Issueやタスクの内容を分析
2. **Red**: 失敗するテストを作成
3. **Green**: 最小限の実装（専門エージェントが担当）
4. **Refactor**: コード品質の改善
5. **検証**: すべてのテストが通ることを確認

## 注意事項

- 個人情報や機密情報をコミットしない
- 環境変数は `.env` ファイルで管理
- APIキーやトークンは適切に管理

## 詳細ドキュメント

- 📌 **基本情報**
  - [プロジェクト概要](./docs/プロジェクト概要.md)
  - [技術スタック](./docs/技術スタック.md)

- 🛠 **開発ガイド**
  - [開発環境セットアップ](./docs/開発環境/セットアップガイド.md)
  - [テストガイド](./docs/テスト/テストガイド.md)

---

## テンプレート使用方法

1. このファイルをプロジェクトルートに`CLAUDE.md`として保存
2. `[プロジェクト名]`などの角括弧部分を実際の内容に置換
3. 不要なセクションは削除
4. プロジェクト固有の情報を追加
5. `docs/`ディレクトリに詳細ドキュメントを作成

### カスタマイズポイント

- **技術スタック**: 使用する技術に合わせて変更
- **開発ルール**: チームやプロジェクトの方針に合わせて調整
- **コマンド**: 実際のコマンドに置き換え
- **ディレクトリ構造**: プロジェクトの構成に合わせて変更