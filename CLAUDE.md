# Claude Code 設定管理ガイド

このドキュメントは、Claude Codeの各種設定を効率的に管理するためのガイドラインです。

## 設定ファイルの管理

### グローバル設定 (~/.claude/CLAUDE.md)

グローバル設定ファイルは、すべてのプロジェクトで共通して適用される設定を記載します。

```markdown
# 共通ルール

## Core Development Rules

1. コード品質
   - すべてのコードに型定義を必須とする
   - 関数は集中して小さく保つこと
   - 既存のパターンを正確に踏襲すること

2. テスト要件
   - 単体テストを網羅的に実装する
   - 新機能には必ずテストを追加すること

3. GitHubの利用ルール
   - commitメッセージには適切なプレフィックスを使用
```

### プロジェクト固有設定

各プロジェクトのルートディレクトリに`CLAUDE.md`を配置することで、プロジェクト固有の設定を追加できます。

## カスタムコマンド

`commands/`ディレクトリに、頻繁に使用するコマンドを保存します。

### 例: commands/test.md

```markdown
# /test

プロジェクトのテストを実行します。

実行内容:
1. Lintチェック
2. 型チェック
3. ユニットテスト実行
```

## サブエージェント設定

`agents/`ディレクトリに、特定のタスクに特化したエージェント設定を配置します。

### 例: agents/code-reviewer.md

```markdown
# code-reviewer

コードレビューを行うエージェント。

タスク:
- コード品質のチェック
- 既存パターンとの整合性確認
- テストの網羅性確認
```

## フック設定

`hooks/`ディレクトリに、特定のイベントで実行されるスクリプトを配置します。

### 例: hooks/pre-commit.sh

```bash
#!/bin/bash
# コミット前にLintとテストを実行
npm run lint && npm run test
```

## プロンプトテンプレート

`templates/`ディレクトリに、再利用可能なプロンプトテンプレートを保存します。

### 例: templates/bug-fix.md

```markdown
# バグ修正テンプレート

1. 問題の再現手順を確認
2. 原因を特定
3. 修正を実装
4. テストを追加
5. 既存テストが通ることを確認
```

## 設定の適用方法

1. **グローバル設定**: `~/.claude/CLAUDE.md`に配置
2. **プロジェクト設定**: プロジェクトルートの`CLAUDE.md`に配置
3. **カスタム設定**: 各ディレクトリに適切なファイルを配置

## ベストプラクティス

1. **設定の優先順位**: プロジェクト設定 > グローバル設定
2. **バージョン管理**: 設定ファイルはGitで管理
3. **機密情報**: APIキーやトークンは含めない
4. **定期的な見直し**: 設定は定期的に更新・最適化

## トラブルシューティング

### 設定が反映されない場合

1. ファイルパスが正しいか確認
2. 構文エラーがないか確認
3. Claude Codeを再起動

### フックが動作しない場合

1. 実行権限を確認 (`chmod +x`)
2. シェバンが正しいか確認
3. パスが通っているか確認